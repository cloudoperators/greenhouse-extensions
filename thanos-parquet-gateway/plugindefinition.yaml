# SPDX-FileCopyrightText: 2024 SAP SE or an SAP affiliate company and Greenhouse contributors
# SPDX-License-Identifier: Apache-2.0

apiVersion: greenhouse.sap/v1alpha1
kind: PluginDefinition
metadata:
  name: thanos-parquet-gateway
spec:
  version: 0.1.0
  description: thanos-parquet-gateway
  helmChart:
    name: thanos-parquet-gateway
    repository: "oci://ghcr.io/cloudoperators/greenhouse-extensions/charts"
    version: 0.1.0
  options:
    - name: thanosParquetGateway.enabled
      desciption: Enable Thanos Parquet Gateway plugin
      default: false
      required: true
      type: bool
    - name: thanosParquetGateway.convert.enabled
      description: Enable Thanos Parquet Gateway Convert
      default: true
      required: false
      type: bool
    - name: thanosParquetGateway.convert.destination.access_key
      decription: Thanos Parquet Gateway Convert access key for destination bucket
      default: ""
      required: true
      type: string
    - name: thanosParquetGateway.convert.destination.bucket
      decription: Thanos Parquet Gateway Convert destination bucket name
      default: "destination"
      required: true
      type: string
    - name: thanosParquetGateway.convert.destination.endpoint
      decription: Thanos Parquet Gateway Convert destination endpoint URL
      default: host.docker.internal:9000
      required: true
      type: string
    - name: thanosParquetGateway.convert.destination.secret_key
      decription: Thanos Parquet Gateway Convert secret key for destination bucket
      default: ""
      required: true
      type: string
    - name: hanosParquetGateway.convert.source.access_key
      decription: Thanos Parquet Gateway Convert access key for source bucket
      default: ""
      required: true
      type: string
    - name: hanosParquetGateway.convert.source.bucket
      decription: Thanos Parquet Gateway Convert source bucket name
      default: "source"
      required: true
      type: string
    - name: thanosParquetGateway.convert.source.endpoint
      decription: Thanos Parquet Gateway Convert source endpoint URL
      default: host.docker.internal:9000
      required: true
      type: string
    - name: thanosParquetGateway.convert.source.secret_key
      decription: Thanos Parquet Gateway Convert secret key for source bucket
      default: ""
      required: true
      type: string
    - name: thanosParquetGateway.serve.access_key
      decription: Thanos Parquet Gateway Serve access key for serve bucket
      default: ""
      required: true
      type: string
    - name: thanosParquetGateway.serve.bucket
      decription: Thanos Parquet Gateway Serve bucket name
      default: destination
      required: true
      type: string
    - name: thanosParquetGateway.serve.endpoint
      decription:  Thanos Parquet Gateway Serve endpoint URL
      default: host.docker.internal:9000
      required: true
      type: string
    - name: thanosParquetGateway.serve.secret_key
      decription: Thanos Parquet Gateway Serve secret key for serve bucket
      default: ""
      required: true
      type: string
    - name: thanosParquetGateway.serve.volume.size
      decription: Thanos Parquet Gateway Serve volume size
      default: 100Gi
      required: false
      type: string
    - name: thanosParquetGateway.serve.enabled
      description: Enable Thanos Parquet Gateway Serve
      default: true
      required: false
      type: bool
    - name: thanosParquetGateway.serve.internalPort
      description: Thanos Parquet Gateway Serve internal port
      default: 6060
      required: false
      type: int
    - name: thanosParquetGateway.serve.prometheusPort
      description: Thanos Parquet Gateway Serve Prometheus port
      default: 19090
      required: false
      type: int
    - name: thanosParquetGateway.serve.thanosPort
      description: Thanos Parquet Gateway Serve Thanos port
      default: 19091
      required: false
      type: int
    - name: thanosParquetGateway.serve.syncerInterval
      description: Thanos Parquet Gateway Serve Syncer interval
      default: "30m"
      required: false
      type: string
    - name: thanosParquetGateway.serve.syncerConcurrency
      description: Thanos Parquet Gateway Serve Syncer concurency
      default: 32
      required: false
      type: int
    - name: thanosParquetGateway.serve.discoveryInterval
      description: Thanos Parquet Gateway Serve Discovery interval
      default: "30m"
      required: false
      type: string
    - name: thanosParquetGateway.serve.discoveryConcurrency
      description: Thanos Parquet Gateway Serve Discovery concurency
      default: 32
      required: false
      type: int
    - name: thanosParquetGateway.serve.externalLabelPrometheus
      description: Thanos Parquet Gateway Serve external Prometheus label
      default: "my-prometheus"
      required: false
      type: string
    - name: thanosParquetGateway.serve.externalLabelReplica
      description: Thanos Parquet Gateway Serve external replica label
      default: "ha-1"
      required: false
      type: string
    - name: thanosParquetGateway.serve.additionalArgs
      description: Thanos Parquet Gateway Serve additional arguments
      default: null
      required: false
      type: map
    - name: thanosParquetGateway.image.repository
      description: Thanos Parquet Gateway image repository
      default: "keppel.global.cloud.sap/ccloud/thanos-parquet-gateway"
      required: false
      type: string
    - name: thanosParquetGateway.image.tag
      description:  Thanos Parquet Gateway image tag
      default: "20260123125451"
      required: false
      type: string
    - name: thanosParquetGateway.image.pullPolicy
      decription: Thanos Parquet Gateway image pull policy
      default: "IfNotPresent"
      required: false
      type: string
    - name: thanosParquetGateway.convert.args.sortingLabels
      description: Thanos Parquet Gateway convert arguments sorting labels
      default: ["__name__", "namespace"]
      required: false
      type: list
    - name: thanosParquetGateway.convert.additionalArgs
      description: Thanos Parquet Gateway convert additional arguments
      default: null
      required: false
      type: map