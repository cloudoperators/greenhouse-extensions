{
  "kind": "Dashboard",
  "metadata": {
    "name": "open-telemetry",
    "createdAt": "2025-07-18T08:25:49.108936779Z",
    "updatedAt": "2025-07-23T07:15:49.477811352Z",
    "version": 713,
    "project": "default"
  },
  "spec": {
    "display": {
      "name": "OpenTelemetry Logs Dashboard"
    },
    "panels": {
      "0_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Running Pod Status"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0
                  },
                  {
                    "color": "green",
                    "value": 1
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(kube_pod_status_phase{phase=\"Running\", namespace=\"$namespace\"})\n",
                    "seriesNameFormat": "Running"
                  }
                }
              }
            }
          ]
        }
      },
      "0_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Not Shipping Collectors"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": " sum(kube_pod_status_phase{pod=~\"logs.*\", phase=\"Running\", namespace=\"$namespace\"})-count(rate(otelcol_exporter_sent_log_records_total[15m]) > 0)",
                    "seriesNameFormat": "Running"
                  }
                }
              }
            }
          ]
        }
      },
      "0_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Failed Pod Status"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(kube_pod_status_phase{phase=\"Failed\", namespace=\"$namespace\"})\n",
                    "seriesNameFormat": "Failed"
                  }
                }
              }
            }
          ]
        }
      },
      "0_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Pending Pod Status"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "yellow",
                    "value": 1
                  }
                ]
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(kube_pod_status_phase{phase=\"Pending\", namespace=\"$namespace\"})\n",
                    "seriesNameFormat": "Pending"
                  }
                }
              }
            }
          ]
        }
      },
      "0_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Running Log Collectors"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "value"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "app"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_component"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_instance"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_managed_by"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_name"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_part_of"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_version"
                },
                {
                  "hide": true,
                  "name": "ccloud_support_group"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "created_by_kind"
                },
                {
                  "hide": true,
                  "name": "created_by_name"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "helm_sh_chart"
                },
                {
                  "hide": true,
                  "name": "host_ip"
                },
                {
                  "hide": true,
                  "name": "host_network"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "kubernetes_name"
                },
                {
                  "hide": true,
                  "name": "kubernetes_namespace"
                },
                {
                  "hide": true,
                  "name": "pod_ip"
                },
                {
                  "hide": true,
                  "name": "priority_class"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "service"
                },
                {
                  "hide": true,
                  "name": "uid"
                },
                {
                  "name": "kube_pod_info{app=\"kube-state-metrics\", app_kubernetes_io_component=\"metrics\", app_kubernetes_io_instance=\"kube-monitoring-scaleout\", app_kubernetes_io_managed_by=\"Helm\", app_kubernetes_io_name=\"kube-state-metrics\", app_kubernetes_io_part_of=\"kube-state-metrics\", app_kubernetes_io_version=\"2.13.0\", ccloud_support_group=\"containers\", cluster=\"s-qa-de-1\", cluster_type=\"scaleout\", container=\"kube-state-metrics\", created_by_kind=\"DaemonSet\", created_by_name=\"logs-collector\", endpoint=\"http\", helm_sh_chart=\"kube-state-metrics-5.25.1\", host_ip=\"10.180.0.148\", host_network=\"false\", instance=\"10.100.0.17:8080\", job=\"kube-monitoring-scaleout-kube-state-metrics\", kubernetes_name=\"kube-monitoring-scaleout-kube-state-metrics\", kubernetes_namespace=\"kube-monitoring\", namespace=\"otel\", node=\"kks-s-qa-de-1-cronus-small-mmrcp\", pod=\"logs-collector-sw99h\", pod_ip=\"10.100.8.34\", priority_class=\"common-payload\", prometheus=\"kube-monitoring/kubernetes\", region=\"qa-de-1\", service=\"kube-monitoring-scaleout-kube-state-metrics\", uid=\"a7de7932-bfd1-4e2e-956c-42844ecb8053\"}",
                  "width": 494
                },
                {
                  "name": "pod",
                  "width": 458
                },
                {
                  "name": "node",
                  "width": 245
                },
                {
                  "name": "namespace",
                  "width": 96
                },
                {
                  "name": "cluster",
                  "width": 80
                }
              ],
              "defaultColumnWidth": "auto",
              "density": "compact"
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "kube_pod_status_phase{pod=~\"logs.*\", phase=\"Running\", namespace=\"$namespace\"}",
                    "seriesNameFormat": "="
                  }
                }
              }
            }
          ]
        }
      },
      "0_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Running Operators"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "hide": true,
                  "name": "timestamp"
                },
                {
                  "hide": true,
                  "name": "value"
                },
                {
                  "hide": true,
                  "name": "__name__"
                },
                {
                  "hide": true,
                  "name": "app"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_component"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_instance"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_managed_by"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_name"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_part_of"
                },
                {
                  "hide": true,
                  "name": "app_kubernetes_io_version"
                },
                {
                  "hide": true,
                  "name": "ccloud_support_group"
                },
                {
                  "hide": true,
                  "name": "cluster_type"
                },
                {
                  "hide": true,
                  "name": "container"
                },
                {
                  "hide": true,
                  "name": "created_by_kind"
                },
                {
                  "hide": true,
                  "name": "created_by_name"
                },
                {
                  "hide": true,
                  "name": "endpoint"
                },
                {
                  "hide": true,
                  "name": "helm_sh_chart"
                },
                {
                  "hide": true,
                  "name": "host_ip"
                },
                {
                  "hide": true,
                  "name": "host_network"
                },
                {
                  "hide": true,
                  "name": "instance"
                },
                {
                  "hide": true,
                  "name": "job"
                },
                {
                  "hide": true,
                  "name": "kubernetes_name"
                },
                {
                  "hide": true,
                  "name": "kubernetes_namespace"
                },
                {
                  "hide": true,
                  "name": "pod_ip"
                },
                {
                  "hide": true,
                  "name": "priority_class"
                },
                {
                  "hide": true,
                  "name": "prometheus"
                },
                {
                  "hide": true,
                  "name": "region"
                },
                {
                  "hide": true,
                  "name": "service"
                },
                {
                  "hide": true,
                  "name": "uid"
                },
                {
                  "name": "kube_pod_info{app=\"kube-state-metrics\", app_kubernetes_io_component=\"metrics\", app_kubernetes_io_instance=\"kube-monitoring-scaleout\", app_kubernetes_io_managed_by=\"Helm\", app_kubernetes_io_name=\"kube-state-metrics\", app_kubernetes_io_part_of=\"kube-state-metrics\", app_kubernetes_io_version=\"2.13.0\", ccloud_support_group=\"containers\", cluster=\"s-qa-de-1\", cluster_type=\"scaleout\", container=\"kube-state-metrics\", created_by_kind=\"DaemonSet\", created_by_name=\"logs-collector\", endpoint=\"http\", helm_sh_chart=\"kube-state-metrics-5.25.1\", host_ip=\"10.180.0.148\", host_network=\"false\", instance=\"10.100.0.17:8080\", job=\"kube-monitoring-scaleout-kube-state-metrics\", kubernetes_name=\"kube-monitoring-scaleout-kube-state-metrics\", kubernetes_namespace=\"kube-monitoring\", namespace=\"otel\", node=\"kks-s-qa-de-1-cronus-small-mmrcp\", pod=\"logs-collector-sw99h\", pod_ip=\"10.100.8.34\", priority_class=\"common-payload\", prometheus=\"kube-monitoring/kubernetes\", region=\"qa-de-1\", service=\"kube-monitoring-scaleout-kube-state-metrics\", uid=\"a7de7932-bfd1-4e2e-956c-42844ecb8053\"}",
                  "width": 494
                },
                {
                  "name": "pod",
                  "width": 458
                },
                {
                  "name": "node",
                  "width": 245
                },
                {
                  "name": "namespace",
                  "width": 96
                },
                {
                  "name": "cluster",
                  "width": 80
                }
              ],
              "density": "compact"
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "kube_pod_status_phase{pod=~\".*operator-[a-zA-Z0-9]{9,10}-[a-zA-Z0-9]{5}$\", phase=\"Running\", namespace=\"$namespace\"}",
                    "seriesNameFormat": "="
                  }
                }
              }
            }
          ]
        }
      },
      "1_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Documentation"
          },
          "plugin": {
            "kind": "Markdown",
            "spec": {
              "text": "<center>\n\n<a target=\"_blank\" \nhref=\"https://cloudoperators.github.io/greenhouse/docs/\">\nGreenhouse Documentation\n</a> \n\n<a target=\"_blank\" \nhref=\"https://cloudoperators.github.io/greenhouse/docs/reference/catalog/logs/\">\nGreenhouse Logs Plugin Documentation\n</a>\n\n<a target=\"_blank\" \nhref=\"https://github.com/cloudoperators/greenhouse-extensions\">\nGreenhouse Extensions GitHub Repository\n</a> \n\n<a target=\"_blank\" \nhref=\"https://opentelemetry.io/docs/\">\nOpenTelemetry Documentation\n</a> \n</center>"
            }
          }
        }
      },
      "2_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Log Records ${metric}",
            "description": "Accepted: count/rate of log records successfully pushed into the pipeline.\n"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.25,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum by (receiver)(${metric}(otelcol_receiver_accepted_log_records_total{job=\"$job\"}[$__rate_interval])) ",
                    "seriesNameFormat": "Accepted: {{receiver}} {{transport}} {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "2_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Refused Log Records ${metric}",
            "description": "Refused: count/rate of log records that could not be pushed into the pipeline."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.25,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum by (receiver)(${metric}(otelcol_receiver_refused_log_records_total{job=\"$job\"}[$__rate_interval])) ",
                    "seriesNameFormat": "Refused: {{receiver}} {{transport}} {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Batch Metrics",
            "description": "Number of times the batch was sent due to a size trigger. Number of times the batch was sent due to a timeout trigger."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.25,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 2.25,
                "pointRadius": 3.75
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum by (processor)(${metric}(otelcol_processor_batch_batch_size_trigger_send_total{job=\"$job\"}[$__rate_interval])) ",
                    "seriesNameFormat": "Batch sent due to a size trigger: {{processor}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum  by (processor)(${metric}(otelcol_processor_batch_timeout_trigger_send_total{job=\"$job\"}[$__rate_interval]))",
                    "seriesNameFormat": "Batch sent due to a timeout trigger: {{processor}} "
                  }
                }
              }
            }
          ]
        }
      },
      "4_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Spans ${metric}",
            "description": "Sent: count/rate of metric points successfully sent to destination.\nEnqueue: count/rate of metric points failed to be added to the sending queue.\nFailed: count/rate of metric points in failed attempts to send to destination."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.3,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(${metric}(otelcol_exporter_sent_log_records_total{exporter=~\"$exporter\",job=\"$job\"}[$__rate_interval])) by (exporter)",
                    "seriesNameFormat": "Sent: {{exporter}} "
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(${metric}(otelcol_exporter_send_failed_log_records_total{exporter=~\"$exporter\",job=\"$job\"}[$__rate_interval])) by (exporter)",
                    "seriesNameFormat": "Enqueue: {{exporter}} "
                  }
                }
              }
            }
          ]
        }
      },
      "4_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Decrease Log Rate",
            "description": "This will compare the sending decrease of NOW and 2h ago."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.25,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(rate(otelcol_exporter_sent_log_records_total{job=\"$job\"}[1h]offset 2h)) by (k8s_cluster_name)/sum(rate(otelcol_exporter_sent_log_records_total{job=\"$job\"}[1h])) by (k8s_cluster_name) > 1",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "5_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total RSS Memory",
            "description": "Total bytes of memory obtained from the OS (see 'go doc runtime.MemStats.Sys')"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.15,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "max(otelcol_process_runtime_total_sys_memory_bytes{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Max Memory RSS {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "max(otelcol_process_runtime_total_sys_memory_bytes{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Avg Memory RSS {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "min(otelcol_process_runtime_total_sys_memory_bytes{job=\"$job\"}) by (job ,$grouping)",
                    "seriesNameFormat": "Min Memory RSS {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "5_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Runtime Sys Memory",
            "description": "Bytes of allocated heap objects (see 'go doc runtime.MemStats.HeapAlloc')"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.05,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "max(otelcol_process_runtime_heap_alloc_bytes{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Max Memory RSS {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "avg(otelcol_process_runtime_heap_alloc_bytes{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Avg Memory RSS {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "min(otelcol_process_runtime_heap_alloc_bytes{job=\"$job\"}) by (job ,$grouping)",
                    "seriesNameFormat": "Min Memory RSS {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "5_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Runtime Heap Memory",
            "description": "Total CPU user and system time in percentage"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.05,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "max(rate(otelcol_process_cpu_seconds_total{job=\"$job\"}[$__rate_interval])*100) by (job)",
                    "seriesNameFormat": "Max CPU usage {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "avg(rate(otelcol_process_cpu_seconds_total{job=\"$job\"}[$__rate_interval])*100) by (job)",
                    "seriesNameFormat": "Avg CPU usage {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "min(rate(otelcol_process_cpu_seconds${suffix}{job=\"$job\"}[$__rate_interval])*100) by (job ,$grouping)",
                    "seriesNameFormat": "Min CPU usage {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "5_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "CPU Usage",
            "description": "Total CPU user and system time in percentage"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.2
              },
              "yAxis": {
                "format": {
                  "unit": "percent"
                },
                "label": "",
                "show": true
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "max(rate(otelcol_process_cpu_seconds_total{job=\"$job\"}[$__rate_interval])*100) by (job)",
                    "seriesNameFormat": "Max CPU usage {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "avg(rate(otelcol_process_cpu_seconds_total{job=\"$job\"}[$__rate_interval])*100) by (job)",
                    "seriesNameFormat": "Avg CPU usage {{service_instance_id}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "min(rate(otelcol_process_cpu_seconds_total{job=\"$job\"}[$__rate_interval])*100) by (job)",
                    "seriesNameFormat": "Min CPU usage {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      },
      "6_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Pods",
            "description": "Added: Number of pod add events received.\nUpdated: Number of pod update events received.\nDeleted: Number of pod delete events received."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.15
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(otelcol_otelsvc_k8s_pod_deleted_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Deleted"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(otelcol_otelsvc_k8s_pod_updated_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Updated"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(otelcol_otelsvc_k8s_pod_added_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Added"
                  }
                }
              }
            }
          ]
        }
      },
      "6_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Namespaces",
            "description": "Added: Number of namespace add events received.\nUpdated: Number of namespace update events received."
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "table",
                "position": "bottom",
                "size": "medium",
                "values": [
                  "max",
                  "min"
                ]
              },
              "visual": {
                "areaOpacity": 0.15
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "avg(otelcol_otelsvc_k8s_namespace_updated_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Updated"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "avg(otelcol_otelsvc_k8s_namespace_added_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Added"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "$minstep",
                    "query": "sum(otelcol_otelsvc_k8s_pod_added_ratio_total{job=\"$job\"}) by (job)",
                    "seriesNameFormat": "Added: {{transport}} {{service_instance_id}}"
                  }
                }
              }
            }
          ]
        }
      }
    },
    "layouts": [
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Documentation",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 6,
              "y": 0,
              "width": 11,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/1_0"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_0"
              }
            },
            {
              "x": 6,
              "y": 0,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_1"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_2"
              }
            },
            {
              "x": 18,
              "y": 0,
              "width": 5,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_3"
              }
            },
            {
              "x": 0,
              "y": 5,
              "width": 12,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_4"
              }
            },
            {
              "x": 12,
              "y": 5,
              "width": 12,
              "height": 5,
              "content": {
                "$ref": "#/spec/panels/0_5"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Receivers",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_0"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 12,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_1"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Processors",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 24,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_0"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Exporters",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/4_0"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 12,
              "height": 6,
              "content": {
                "$ref": "#/spec/panels/4_1"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Collector",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 6,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/5_0"
              }
            },
            {
              "x": 6,
              "y": 0,
              "width": 6,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/5_1"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 6,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/5_2"
              }
            },
            {
              "x": 18,
              "y": 0,
              "width": 6,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/5_3"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Kubernetes",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 0,
              "width": 12,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/6_0"
              }
            },
            {
              "x": 12,
              "y": 0,
              "width": 12,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/6_1"
              }
            }
          ]
        }
      }
    ],
    "variables": [
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Datasource",
            "hidden": false
          },
          "defaultValue": "kube-monitoring-obs-eu-de-1-prometheus",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "job",
              "matchers": [
                "prometheus_build_info"
              ]
            }
          },
          "name": "datasource"
        }
      },
      {
        "kind": "TextVariable",
        "spec": {
          "name": "job",
          "display": {
            "hidden": false
          },
          "value": "logs/opentelemetry-collector-logs",
          "constant": true
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Min step",
            "hidden": false
          },
          "defaultValue": "30s",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "StaticListVariable",
            "spec": {
              "values": [
                "10s",
                "30s",
                "1m",
                "5m"
              ]
            }
          },
          "name": "minstep"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Base metric",
            "hidden": false
          },
          "defaultValue": "rate",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "StaticListVariable",
            "spec": {
              "values": [
                {
                  "label": "Rate",
                  "value": "rate"
                },
                {
                  "label": "Count",
                  "value": "increase"
                }
              ]
            }
          },
          "name": "metric"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Exporter",
            "hidden": false
          },
          "defaultValue": "opensearch/failover_a",
          "allowAllValue": false,
          "allowMultiple": false,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusPromQLVariable",
            "spec": {
              "expr": "avg by (exporter) ({__name__=~\"otelcol_exporter_.+\",job=\"$job\"})",
              "labelName": "exporter"
            }
          },
          "name": "exporter"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "name": "receiver",
          "display": {
            "name": "Receiver",
            "hidden": false
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "sort": "none",
          "plugin": {
            "kind": "PrometheusPromQLVariable",
            "spec": {
              "expr": "avg by (receiver) ({__name__=~\"otelcol_receiver_.+\",job=\"$job\"})",
              "labelName": "receiver"
            }
          }
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Processor",
            "hidden": false
          },
          "defaultValue": "attributes/k8sevents",
          "allowAllValue": false,
          "allowMultiple": false,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusPromQLVariable",
            "spec": {
              "expr": "avg by (processor) ({__name__=~\"otelcol_processor_.+\",job=\"$job\"})",
              "labelName": "processor"
            }
          },
          "name": "processor"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Metric Type",
            "hidden": false
          },
          "defaultValue": "_seconds_total",
          "allowAllValue": false,
          "allowMultiple": false,
          "capturingRegexp": "otelcol_process_uptime(.*)",
          "sort": "none",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "__name__",
              "matchers": [
                "{__name__=~\"otelcol_process_uptime.+\",job=\"$job\"}"
              ]
            }
          },
          "name": "suffix"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "name": "namespace",
          "display": {
            "name": "namespace"
          },
          "allowAllValue": true,
          "allowMultiple": false,
          "plugin": {
            "kind": "PrometheusPromQLVariable",
            "spec": {
              "expr": "avg by (namespace) ({__name__=~\"otelcol_receiver_.+\"})",
              "labelName": "namespace"
            }
          }
        }
      }
    ],
    "duration": "6h",
    "refreshInterval": "0s",
    "datasources": {}
  }
}
