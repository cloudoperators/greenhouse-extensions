# SPDX-FileCopyrightText: 2024 SAP SE or an SAP affiliate company and Greenhouse contributors
# SPDX-License-Identifier: Apache-2.0

{{- $labels := include "opensearch-cluster-local.labels" . }}
{{- range $username, $credentials := .Values.cluster.usersCredentials }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ $username }}-credentials
  labels: {{ $labels | nindent 4 }}
type: Opaque
data:
  username: {{ default $username $credentials.username | b64enc }}
  password: {{ $credentials.password | b64enc }}
{{- end }}
