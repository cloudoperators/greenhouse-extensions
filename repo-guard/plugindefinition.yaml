# SPDX-FileCopyrightText: 2024 SAP SE or an SAP affiliate company and Greenhouse contributors
# SPDX-License-Identifier: Apache-2.0

apiVersion: greenhouse.sap/v1alpha1
kind: PluginDefinition
metadata:
  name: repo-guard
spec:
  version: "1.6.0"
  displayName: Repo Guard
  description: Repo Guard automates GitHub organization management using Kubernetes Custom Resources (CRDs)
  docMarkDownUrl: https://raw.githubusercontent.com/cloudoperators/repo-guard/refs/heads/main/README.md
  helmChart:
    name: repo-guard
    repository: oci://ghcr.io/cloudoperators/charts/repo-guard
    version: 1.6.0
  options:
    - name: manager
      description: Manager configuration
      required: false
      type: map
    - name: ttl
      description: TTL for team and organization operations and status management
      required: false
      type: map
    - name: monitoring
      description: Monitoring configuration
      required: false
      type: map
    - name: ldap
      description: LDAP configuration for external member provider
      required: false
      type: map
    - name: genericExternalMemberProviders
      description: Generic external member provider configuration
      required: false
      type: list
    - name: staticMemberProviders
      description: Static member provider configuration
      required: false
      type: list
    - name: githubs
      description: Github configuration to be managed by the plugin
      required: false
      type: map
